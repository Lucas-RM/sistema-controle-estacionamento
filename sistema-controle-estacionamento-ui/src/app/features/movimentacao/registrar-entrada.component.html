<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <h2><i class="fa fa-sign-in"></i> Registrar Entrada</h2>
      <p class="text-muted">Informe a placa do veículo para registrar a entrada.</p>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label for="placa">Placa do Veículo</label>
        <div class="input-group">
          <input id="placa" type="text" class="form-control" placeholder="ABC1234" maxlength="8"
                 [formControl]="form.controls['placa']" (keyup.enter)="buscarVeiculo()">
          <span class="input-group-btn">
            <button class="btn btn-primary" type="button" (click)="buscarVeiculo()">
              <i class="fa fa-search"></i> Buscar
            </button>
          </span>
        </div>
        <small class="text-muted">Aceita formatos AAA0000, AAA0A00 (Mercosul) e variações.</small>
      </div>

      <div *ngIf="erro" class="alert alert-danger">
        <i class="fa fa-exclamation-triangle"></i> {{ erro }}
      </div>
      <div *ngIf="mensagem" class="alert alert-success">
        <i class="fa fa-check"></i> {{ mensagem }}
      </div>

      <div *ngIf="loading" class="text-center">
        <i class="fa fa-spinner fa-spin fa-2x"></i>
      </div>

      <div *ngIf="veiculoEncontrado" class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title"><i class="fa fa-car"></i> {{ veiculoEncontrado.placa }}</h3>
        </div>
        <div class="panel-body">
          <p><strong>Modelo:</strong> {{ veiculoEncontrado.modelo || 'N/A' }}</p>
          <p><strong>Cor:</strong> {{ veiculoEncontrado.cor || 'N/A' }}</p>
        </div>
        <div class="panel-footer text-right">
          <button class="btn btn-default" type="button" (click)="irParaCadastroVeiculo()">
            <i class="fa fa-plus"></i> Cadastrar/Editar Veículo
          </button>
          <button class="btn btn-success" type="button" (click)="registrarEntrada()">
            <i class="fa fa-check"></i> Confirmar Entrada
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
